generator client {
  provider = "prisma-client"
  output   = "../lib/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model archived_documents {
  id              String          @id @db.VarChar
  document_id     String?         @db.VarChar
  document_type   String?         @db.VarChar
  document_number String?         @db.VarChar
  title           String?         @db.VarChar
  content         String?
  category        String?         @db.VarChar
  division_id     String?         @db.VarChar
  department_id   String?         @db.VarChar
  document_date   DateTime?       @db.Date
  archived_date   DateTime?       @db.Date
  file_url        String?
  archived_by     String?         @db.VarChar
  created_at      DateTime?       @default(now()) @db.Timestamp(6)
  updated_at      DateTime?       @default(now()) @db.Timestamp(6)
  departments     departments?    @relation(fields: [department_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  divisions       divisions?      @relation(fields: [division_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  incoming_mails  incoming_mails? @relation(fields: [document_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  outgoing_mails  outgoing_mails? @relation(fields: [document_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "archived_documents_document_id_fkey1")
  memos           memos?          @relation(fields: [document_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "archived_documents_document_id_fkey2")
  notulensi       notulensi?      @relation(fields: [document_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "archived_documents_document_id_fkey3")
}

model categories {
  id                  String                @id @db.VarChar
  name                String?               @db.VarChar
  code                String?               @db.VarChar
  description         String?
  module_type         String?               @db.VarChar
  division_id         String?               @db.VarChar
  department_id       String?               @db.VarChar
  created_at          DateTime?             @default(now()) @db.Timestamp(6)
  updated_at          DateTime?             @default(now()) @db.Timestamp(6)
  departments         departments?          @relation(fields: [department_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  divisions           divisions?            @relation(fields: [division_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  memo_templates      memo_templates[]
  memos               memos[]
  notulensi           notulensi[]
  notulensi_templates notulensi_templates[]
  outgoing_mails      outgoing_mails[]
  outgoing_templates  outgoing_templates[]
}

model departments {
  id                     String                   @id @db.VarChar
  name                   String?                  @db.VarChar
  code                   String?                  @db.VarChar
  division_id            String?                  @db.VarChar
  description            String?
  is_active              Boolean?
  created_at             DateTime?                @default(now()) @db.Timestamp(6)
  updated_at             DateTime?                @default(now()) @db.Timestamp(6)
  address                String?
  phone                  String?                  @db.VarChar
  archived_documents     archived_documents[]
  categories             categories[]
  divisions              divisions?               @relation(fields: [division_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  dispositions           dispositions[]
  meeting_participants   meeting_participants[]
  memo_config_levels     memo_config_levels[]
  outgoing_config_levels outgoing_config_levels[]
  users                  users[]
}

model disposition_history {
  id             String     @id @db.VarChar
  disposition_id String?    @db.VarChar
  action         String?    @db.VarChar
  action_by      String?    @db.VarChar
  notes          String?
  created_at     DateTime?  @default(now()) @db.Timestamp(6)
  users          users?     @relation(fields: [action_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  divisions      divisions? @relation(fields: [disposition_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model dispositions {
  id                                     String          @id @db.VarChar
  incoming_mail_id                       String?         @db.VarChar
  from_user_id                           String?         @db.VarChar
  to_user_id                             String?         @db.VarChar
  to_division_id                         String?         @db.VarChar
  to_department_id                       String?         @db.VarChar
  instruction                            String?
  notes                                  String?
  due_date                               DateTime?       @db.Date
  priority                               String?         @db.VarChar
  status                                 String?         @db.VarChar
  completed_at                           DateTime?       @db.Timestamp(6)
  created_at                             DateTime?       @default(now()) @db.Timestamp(6)
  updated_at                             DateTime?       @default(now()) @db.Timestamp(6)
  users_dispositions_from_user_idTousers users?          @relation("dispositions_from_user_idTousers", fields: [from_user_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  incoming_mails                         incoming_mails? @relation(fields: [incoming_mail_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  departments                            departments?    @relation(fields: [to_department_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  divisions                              divisions?      @relation(fields: [to_division_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  users_dispositions_to_user_idTousers   users?          @relation("dispositions_to_user_idTousers", fields: [to_user_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model divisions {
  id                     String                   @id @db.VarChar
  name                   String?                  @db.VarChar
  code                   String?                  @db.VarChar
  address                String?
  phone                  String?                  @db.VarChar
  description            String?
  is_active              Boolean?
  created_at             DateTime?                @default(now()) @db.Timestamp(6)
  updated_at             DateTime?                @default(now()) @db.Timestamp(6)
  archived_documents     archived_documents[]
  categories             categories[]
  departments            departments[]
  disposition_history    disposition_history[]
  dispositions           dispositions[]
  meeting_participants   meeting_participants[]
  memo_config_levels     memo_config_levels[]
  memo_templates         memo_templates[]
  notulensi_templates    notulensi_templates[]
  outgoing_config_levels outgoing_config_levels[]
  outgoing_templates     outgoing_templates[]
  users                  users[]
}

model incoming_mails {
  id                  String               @id @db.VarChar
  mail_number         String?              @db.VarChar
  mail_date           DateTime?            @db.Date
  mail_path           String?              @db.VarChar
  sender_name         String?              @db.VarChar
  sender_address      String?
  sender_organization String?              @db.VarChar
  subject             String?
  priority            String?              @db.VarChar
  notes               String?
  status              String?              @db.VarChar
  received_by         String?              @db.VarChar
  received_date       DateTime?            @db.Timestamp(6)
  created_at          DateTime?            @default(now()) @db.Timestamp(6)
  updated_at          DateTime?            @default(now()) @db.Timestamp(6)
  archived_documents  archived_documents[]
  dispositions        dispositions[]
  users               users?               @relation(fields: [received_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model meeting_participants {
  id                String       @id @db.VarChar
  notulensi_id      String?      @db.VarChar
  user_id           String?      @db.VarChar
  division_id       String?      @db.VarChar
  department_id     String?      @db.VarChar
  role              String?      @db.VarChar
  attendance_status String?      @db.VarChar
  notes             String?
  created_at        DateTime?    @default(now()) @db.Timestamp(6)
  departments       departments? @relation(fields: [department_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  divisions         divisions?   @relation(fields: [division_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  notulensi         notulensi?   @relation(fields: [notulensi_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  users             users?       @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model memo_approval_flows {
  id          String    @id @db.VarChar
  memo_id     String?   @db.VarChar
  approver_id String?   @db.VarChar
  level_order Int?
  action      String?   @db.VarChar
  notes       String?
  approved_at DateTime? @db.Timestamp(6)
  created_at  DateTime? @default(now()) @db.Timestamp(6)
  users       users?    @relation(fields: [approver_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  memos       memos?    @relation(fields: [memo_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model memo_config_levels {
  id                 String              @id @db.VarChar
  template_id        String?             @db.VarChar
  user_id            String?             @db.VarChar
  division_id        String?             @db.VarChar
  department_id      String?             @db.VarChar
  level_order        Int?
  action_type        String?             @db.VarChar
  is_required        Boolean?
  created_at         DateTime?           @default(now()) @db.Timestamp(6)
  updated_at         DateTime?           @default(now()) @db.Timestamp(6)
  departments        departments?        @relation(fields: [department_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  divisions          divisions?          @relation(fields: [division_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  outgoing_templates outgoing_templates? @relation(fields: [template_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  users              users?              @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model memo_templates {
  id          String      @id @db.VarChar
  name        String?     @db.VarChar
  category_id String?     @db.VarChar
  division_id String?     @db.VarChar
  description String?
  content     String?
  created_at  DateTime?   @default(now()) @db.Timestamp(6)
  updated_at  DateTime?   @default(now()) @db.Timestamp(6)
  categories  categories? @relation(fields: [category_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  divisions   divisions?  @relation(fields: [division_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  memos       memos[]
}

model memos {
  id                            String                @id @db.VarChar
  memo_number                   String?               @db.VarChar
  template_id                   String?               @db.VarChar
  category_id                   String?               @db.VarChar
  subject                       String?
  content                       String?
  to_division_id                String?               @db.VarChar
  to_department_id              String?               @db.VarChar
  to_users                      String?               @db.VarChar
  priority                      String?               @db.VarChar
  mail_path                     String?               @db.VarChar
  status                        String?               @db.VarChar
  current_approval_level        Int?
  generated_by                  String?               @db.VarChar
  generated_at                  DateTime?             @db.Timestamp(6)
  effective_date                DateTime?             @db.Date
  notes                         String?
  created_by                    String?               @db.VarChar
  updated_by                    String?               @db.VarChar
  created_at                    DateTime?             @default(now()) @db.Timestamp(6)
  updated_at                    DateTime?             @default(now()) @db.Timestamp(6)
  archived_documents            archived_documents[]
  memo_approval_flows           memo_approval_flows[]
  categories                    categories?           @relation(fields: [category_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  users_memos_created_byTousers users?                @relation("memos_created_byTousers", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  memo_templates                memo_templates?       @relation(fields: [template_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  users_memos_updated_byTousers users?                @relation("memos_updated_byTousers", fields: [updated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model notulensi {
  id                                String                 @id @db.VarChar
  notulensi_number                  String?                @db.VarChar
  template_id                       String?                @db.VarChar
  category_id                       String?                @db.VarChar
  meeting_title                     String?                @db.VarChar
  meeting_date                      DateTime?              @db.Timestamp(6)
  meeting_location                  String?                @db.VarChar
  meeting_agenda                    String?
  content                           String?
  chairman_id                       String?                @db.VarChar
  secretary_id                      String?                @db.VarChar
  attachment_url                    String?
  status                            String?                @db.VarChar
  completed_at                      DateTime?              @db.Timestamp(6)
  notes                             String?
  created_at                        DateTime?              @default(now()) @db.Timestamp(6)
  updated_at                        DateTime?              @default(now()) @db.Timestamp(6)
  created_by                        String?                @db.VarChar
  updated_by                        String?                @db.VarChar
  archived_documents                archived_documents[]
  meeting_participants              meeting_participants[]
  categories                        categories?            @relation(fields: [category_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  users_notulensi_created_byTousers users?                 @relation("notulensi_created_byTousers", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  notulensi_templates               notulensi_templates?   @relation(fields: [template_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  users_notulensi_updated_byTousers users?                 @relation("notulensi_updated_byTousers", fields: [updated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  participant_notes                 participant_notes[]
}

model notulensi_templates {
  id          String      @id @db.VarChar
  name        String?     @db.VarChar
  category_id String?     @db.VarChar
  division_id String?     @db.VarChar
  description String?
  content     String?
  created_at  DateTime?   @default(now()) @db.Timestamp(6)
  updated_at  DateTime?   @default(now()) @db.Timestamp(6)
  notulensi   notulensi[]
  categories  categories? @relation(fields: [category_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  divisions   divisions?  @relation(fields: [division_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model outgoing_approval_flows {
  id               String          @id @db.VarChar
  outgoing_mail_id String?         @db.VarChar
  approver_id      String?         @db.VarChar
  level_order      Int?
  action           String?         @db.VarChar
  notes            String?
  approved_at      DateTime?       @db.Timestamp(6)
  created_at       DateTime?       @default(now()) @db.Timestamp(6)
  users            users?          @relation(fields: [approver_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  outgoing_mails   outgoing_mails? @relation(fields: [outgoing_mail_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model outgoing_config_levels {
  id                 String              @id @db.VarChar
  template_id        String?             @db.VarChar
  user_id            String?             @db.VarChar
  division_id        String?             @db.VarChar
  department_id      String?             @db.VarChar
  level_order        Int?
  action_type        String?             @db.VarChar
  is_required        Boolean?
  created_at         DateTime?           @default(now()) @db.Timestamp(6)
  updated_at         DateTime?           @default(now()) @db.Timestamp(6)
  departments        departments?        @relation(fields: [department_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  divisions          divisions?          @relation(fields: [division_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  outgoing_templates outgoing_templates? @relation(fields: [template_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  users              users?              @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model outgoing_mails {
  id                                     String                    @id @db.VarChar
  mail_number                            String?                   @db.VarChar
  template_id                            String?                   @db.VarChar
  category_id                            String?                   @db.VarChar
  subject                                String?
  recipient_name                         String?                   @db.VarChar
  recipient_address                      String?
  recipient_organization                 String?                   @db.VarChar
  priority                               String?                   @db.VarChar
  mail_path                              String?                   @db.VarChar
  status                                 String?                   @db.VarChar
  current_approval_level                 Int?
  sent_date                              DateTime?                 @db.Date
  notes                                  String?
  created_by                             String?                   @db.VarChar
  updated_by                             String?                   @db.VarChar
  created_at                             DateTime?                 @default(now()) @db.Timestamp(6)
  updated_at                             DateTime?                 @default(now()) @db.Timestamp(6)
  archived_documents                     archived_documents[]
  outgoing_approval_flows                outgoing_approval_flows[]
  categories                             categories?               @relation(fields: [category_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  users_outgoing_mails_created_byTousers users?                    @relation("outgoing_mails_created_byTousers", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  outgoing_templates                     outgoing_templates?       @relation(fields: [template_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  users_outgoing_mails_updated_byTousers users?                    @relation("outgoing_mails_updated_byTousers", fields: [updated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model outgoing_templates {
  id                     String                   @id @db.VarChar
  name                   String?                  @db.VarChar
  category_id            String?                  @db.VarChar
  division_id            String?                  @db.VarChar
  description            String?
  content                String?
  created_at             DateTime?                @default(now()) @db.Timestamp(6)
  updated_at             DateTime?                @default(now()) @db.Timestamp(6)
  memo_config_levels     memo_config_levels[]
  outgoing_config_levels outgoing_config_levels[]
  outgoing_mails         outgoing_mails[]
  categories             categories?              @relation(fields: [category_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  divisions              divisions?               @relation(fields: [division_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model participant_notes {
  id           String     @id @db.VarChar
  notulensi_id String?    @db.VarChar
  user_id      String?    @db.VarChar
  notes        String?
  created_at   DateTime?  @default(now()) @db.Timestamp(6)
  updated_at   DateTime?  @default(now()) @db.Timestamp(6)
  notulensi    notulensi? @relation(fields: [notulensi_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  users        users?     @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model positions {
  id          String    @id @db.VarChar
  name        String?   @db.VarChar
  code        String?   @db.VarChar
  level       Int?
  description String?
  is_active   Boolean?
  created_at  DateTime? @default(now()) @db.Timestamp(6)
  updated_at  DateTime? @default(now()) @db.Timestamp(6)
  users       users[]
}

model users {
  id                                              String                    @id @db.VarChar
  employee_id                                     String?                   @db.VarChar
  full_name                                       String?                   @db.VarChar
  email                                           String?                   @db.VarChar
  password_hash                                   String?                   @db.VarChar
  phone                                           String?                   @db.VarChar
  address                                         String?
  division_id                                     String?                   @db.VarChar
  department_id                                   String?                   @db.VarChar
  position_id                                     String?                   @db.VarChar
  role                                            String?                   @db.VarChar
  tenant_name                                     String?                   @db.VarChar
  is_active                                       Boolean?
  last_login                                      DateTime?                 @db.Timestamp(6)
  created_at                                      DateTime?                 @default(now()) @db.Timestamp(6)
  updated_at                                      DateTime?                 @default(now()) @db.Timestamp(6)
  disposition_history                             disposition_history[]
  dispositions_dispositions_from_user_idTousers   dispositions[]            @relation("dispositions_from_user_idTousers")
  dispositions_dispositions_to_user_idTousers     dispositions[]            @relation("dispositions_to_user_idTousers")
  incoming_mails                                  incoming_mails[]
  meeting_participants                            meeting_participants[]
  memo_approval_flows                             memo_approval_flows[]
  memo_config_levels                              memo_config_levels[]
  memos_memos_created_byTousers                   memos[]                   @relation("memos_created_byTousers")
  memos_memos_updated_byTousers                   memos[]                   @relation("memos_updated_byTousers")
  notulensi_notulensi_created_byTousers           notulensi[]               @relation("notulensi_created_byTousers")
  notulensi_notulensi_updated_byTousers           notulensi[]               @relation("notulensi_updated_byTousers")
  outgoing_approval_flows                         outgoing_approval_flows[]
  outgoing_config_levels                          outgoing_config_levels[]
  outgoing_mails_outgoing_mails_created_byTousers outgoing_mails[]          @relation("outgoing_mails_created_byTousers")
  outgoing_mails_outgoing_mails_updated_byTousers outgoing_mails[]          @relation("outgoing_mails_updated_byTousers")
  participant_notes                               participant_notes[]
  departments                                     departments?              @relation(fields: [department_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  divisions                                       divisions?                @relation(fields: [division_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  positions                                       positions?                @relation(fields: [position_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}
